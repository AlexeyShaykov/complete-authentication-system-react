import{o as N,a as g,c as E,b as R,u as v,e as L,j as t,L as O}from"./index-Dy5OmBMi.js";import{a as T,u as D,F as b,b as G,c as _,d as w,e as y,I as F,f as I}from"./input--87WhN_z.js";import{B as k}from"./button-CY6b6eVC.js";const A=N({email:g().email(),password:g().min(8)}),C=()=>{const e=E.c(23),r=R(),{handleSignIn:x}=v();let d;e[0]===Symbol.for("react.memo_cache_sentinel")?(d={resolver:T(A),defaultValues:{email:"",password:""}},e[0]=d):d=e[0];const s=D(d);let f;e[1]!==s||e[2]!==x||e[3]!==r?(f=s.handleSubmit(async j=>{try{const o=await L.signIn({formFields:[{id:"email",value:j.email},{id:"password",value:j.password}]});o.status==="FIELD_ERROR"?o.formFields.forEach(a=>{s.setError(a.id,{message:a.error})}):o.status==="WRONG_CREDENTIALS_ERROR"?s.setError("root",{message:"Invalid email or password"}):o.status==="SIGN_IN_NOT_ALLOWED"?s.setError("root",{message:o.reason}):o.status==="OK"&&(x(o.user.id),r({to:"/"}))}catch(o){const a=o;typeof a=="object"&&a!==null&&"isSuperTokensGeneralError"in a&&a.isSuperTokensGeneralError,console.error(a)}}),e[1]=s,e[2]=x,e[3]=r,e[4]=f):f=e[4];const h=f;let n,l;e[5]!==s.control?(n=t.jsx(b,{control:s.control,name:"email",render:B}),l=t.jsx(b,{control:s.control,name:"password",render:P}),e[5]=s.control,e[6]=n,e[7]=l):(n=e[6],l=e[7]);const S=s.formState.isSubmitting?"Signing in...":"Sign In";let i;e[8]!==s.formState.isSubmitting||e[9]!==S?(i=t.jsx(k,{type:"submit",disabled:s.formState.isSubmitting,children:S}),e[8]=s.formState.isSubmitting,e[9]=S,e[10]=i):i=e[10];let u;e[11]===Symbol.for("react.memo_cache_sentinel")?(u=t.jsxs("p",{className:"text-sm text-gray-500",children:["Don't have an account?"," ",t.jsx(O,{to:"/auth/signup",className:"text-blue-500",children:"Sign Up"})]}),e[11]=u):u=e[11];let m;e[12]!==s.formState.errors.root?(m=s.formState.errors.root&&t.jsx("p",{className:"text-red-500",children:s.formState.errors.root.message}),e[12]=s.formState.errors.root,e[13]=m):m=e[13];let c;e[14]!==h||e[15]!==n||e[16]!==l||e[17]!==i||e[18]!==m?(c=t.jsxs("form",{onSubmit:h,className:"space-y-4",children:[n,l,i,u,m]}),e[14]=h,e[15]=n,e[16]=l,e[17]=i,e[18]=m,e[19]=c):c=e[19];let p;return e[20]!==s||e[21]!==c?(p=t.jsx("div",{className:"w-full",children:t.jsx(G,{...s,children:c})}),e[20]=s,e[21]=c,e[22]=p):p=e[22],p};function B(e){const{field:r}=e;return t.jsxs(_,{children:[t.jsx(w,{children:"Email"}),t.jsx(y,{children:t.jsx(F,{placeholder:"Email",...r})}),t.jsx(I,{})]})}function P(e){const{field:r}=e;return t.jsxs(_,{children:[t.jsx(w,{children:"Password"}),t.jsx(y,{children:t.jsx(F,{type:"password",placeholder:"Password",...r})}),t.jsx(I,{})]})}const M=()=>{const e=E.c(1);let r;return e[0]===Symbol.for("react.memo_cache_sentinel")?(r=t.jsx("div",{className:"flex flex-col items-center justify-center h-screen max-w-md mx-auto",children:t.jsx(C,{})}),e[0]=r):r=e[0],r};export{M as component};
