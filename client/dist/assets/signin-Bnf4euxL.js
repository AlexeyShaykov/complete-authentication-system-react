import{a as h,u as j,o as f,e as S,j as s,L as g,b as t}from"./index-CLU1y8Ix.js";import{u as E,a as b,F as w,b as n,c as i,d as l,e as m,I as c,f as d}from"./input-wL0iyzG0.js";import{B as F}from"./button-PpigjMnM.js";const I=f({email:t().email(),password:t().min(8)}),N=()=>{const u=h(),{handleSignIn:p}=j(),r=E({resolver:b(I),defaultValues:{email:"",password:""}}),x=r.handleSubmit(async o=>{try{const e=await S.signIn({formFields:[{id:"email",value:o.email},{id:"password",value:o.password}]});e.status==="FIELD_ERROR"?e.formFields.forEach(a=>{r.setError(a.id,{message:a.error})}):e.status==="WRONG_CREDENTIALS_ERROR"?r.setError("root",{message:"Invalid email or password"}):e.status==="SIGN_IN_NOT_ALLOWED"?r.setError("root",{message:e.reason}):e.status==="OK"&&(p(e.user.id),u({to:"/"}))}catch(e){typeof e=="object"&&e!==null&&"isSuperTokensGeneralError"in e&&e.isSuperTokensGeneralError,console.error(e)}});return s.jsx("div",{className:"w-full",children:s.jsx(w,{...r,children:s.jsxs("form",{onSubmit:x,className:"space-y-4",children:[s.jsx(n,{control:r.control,name:"email",render:({field:o})=>s.jsxs(i,{children:[s.jsx(l,{children:"Email"}),s.jsx(m,{children:s.jsx(c,{placeholder:"Email",...o})}),s.jsx(d,{})]})}),s.jsx(n,{control:r.control,name:"password",render:({field:o})=>s.jsxs(i,{children:[s.jsx(l,{children:"Password"}),s.jsx(m,{children:s.jsx(c,{type:"password",placeholder:"Password",...o})}),s.jsx(d,{})]})}),s.jsx(F,{type:"submit",disabled:r.formState.isSubmitting,children:r.formState.isSubmitting?"Signing in...":"Sign In"}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Don't have an account?"," ",s.jsx(g,{to:"/auth/signup",className:"text-blue-500",children:"Sign Up"})]}),r.formState.errors.root&&s.jsx("p",{className:"text-red-500",children:r.formState.errors.root.message})]})})})},L=()=>s.jsx("div",{className:"flex flex-col items-center justify-center h-screen max-w-md mx-auto",children:s.jsx(N,{})});export{L as component};
