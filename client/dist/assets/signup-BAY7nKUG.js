import{o as v,a as g,c as y,b as I,u as L,e as R,j as s,L as T}from"./index-Dy5OmBMi.js";import{a as U,u as k,F as b,b as A,c as E,d as _,e as w,I as F,f as N}from"./input--87WhN_z.js";import{B as G}from"./button-CY6b6eVC.js";const O=v({email:g().email(),password:g().min(8)}),P=()=>{const e=y.c(23),r=I(),{handleSignIn:x}=L();let d;e[0]===Symbol.for("react.memo_cache_sentinel")?(d={resolver:U(O),defaultValues:{email:"",password:""}},e[0]=d):d=e[0];const t=k(d);let f;e[1]!==t||e[2]!==x||e[3]!==r?(f=t.handleSubmit(async j=>{try{const a=await R.signUp({formFields:[{id:"email",value:j.email},{id:"password",value:j.password}]});a.status==="FIELD_ERROR"?a.formFields.forEach(o=>{t.setError(o.id,{message:o.error})}):a.status==="SIGN_UP_NOT_ALLOWED"?t.setError("root",{message:a.reason}):(x(a.user.id),r({to:"/"}))}catch(a){const o=a;typeof o=="object"&&o!==null&&"isSuperTokensGeneralError"in o&&o.isSuperTokensGeneralError,console.error(o)}}),e[1]=t,e[2]=x,e[3]=r,e[4]=f):f=e[4];const h=f;let n,l;e[5]!==t.control?(n=s.jsx(b,{control:t.control,name:"email",render:B}),l=s.jsx(b,{control:t.control,name:"password",render:C}),e[5]=t.control,e[6]=n,e[7]=l):(n=e[6],l=e[7]);const S=t.formState.isSubmitting?"Signing up...":"Sign Up";let i;e[8]!==t.formState.isSubmitting||e[9]!==S?(i=s.jsx(G,{type:"submit",disabled:t.formState.isSubmitting,children:S}),e[8]=t.formState.isSubmitting,e[9]=S,e[10]=i):i=e[10];let u;e[11]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsxs("p",{className:"text-sm text-gray-500",children:["Already have an account?"," ",s.jsx(T,{to:"/auth/signin",className:"text-blue-500",children:"Sign In"})]}),e[11]=u):u=e[11];let m;e[12]!==t.formState.errors.root?(m=t.formState.errors.root&&s.jsx("p",{className:"text-red-500",children:t.formState.errors.root.message}),e[12]=t.formState.errors.root,e[13]=m):m=e[13];let c;e[14]!==h||e[15]!==n||e[16]!==l||e[17]!==i||e[18]!==m?(c=s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[n,l,i,u,m]}),e[14]=h,e[15]=n,e[16]=l,e[17]=i,e[18]=m,e[19]=c):c=e[19];let p;return e[20]!==t||e[21]!==c?(p=s.jsx("div",{className:"w-full",children:s.jsx(A,{...t,children:c})}),e[20]=t,e[21]=c,e[22]=p):p=e[22],p};function B(e){const{field:r}=e;return s.jsxs(E,{children:[s.jsx(_,{children:"Email"}),s.jsx(w,{children:s.jsx(F,{placeholder:"Email",...r})}),s.jsx(N,{})]})}function C(e){const{field:r}=e;return s.jsxs(E,{children:[s.jsx(_,{children:"Password"}),s.jsx(w,{children:s.jsx(F,{type:"password",placeholder:"Password",...r})}),s.jsx(N,{})]})}const V=()=>{const e=y.c(1);let r;return e[0]===Symbol.for("react.memo_cache_sentinel")?(r=s.jsx("div",{className:"flex flex-col items-center justify-center h-screen max-w-md mx-auto",children:s.jsx(P,{})}),e[0]=r):r=e[0],r};export{V as component};
